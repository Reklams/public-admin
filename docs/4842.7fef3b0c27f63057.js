"use strict";(self.webpackChunkvex=self.webpackChunkvex||[]).push([[4842],{54842:(q,l,s)=>{s.r(l),s.d(l,{AddressModule:()=>H});var c=s(96814),u=s(56223),r=s(35420),i=s(89515),v=s(62051),h=s(47774),Z=s(89364),A=s(59051),f=s(13680),y=s(78645),C=s(95982),T=s(83951),x=s(62008),O=s(86820),U=s(57180),t=s(65879),L=s(58184),G=s(19347),I=s(30617),p=s(32296),m=s(74104),P=s(16072),S=s(79859),b=s(17727),z=s(73089),J=s(76651);const j=["productGridComponent"];function F(d,V){if(1&d&&(t.TgZ(0,"div",22),t._UZ(1,"app-product-grid",23,24),t.qZA()),2&d){const a=t.oxw();t.xp6(1),t.Q6J("addressId",null==a.address?null:a.address.id)}}const M=function(){return["/address/address-list"]},Q=function(d){return["/address/address-edit",d]};let Y=(()=>{class d{constructor(a,o,n,e){this.globals=a,this.activatedRoute=o,this.dialog=n,this.translateService=e,this.destroySubject=new y.x,this.latlng={lat:0,lng:0},this.showAddresProductGrid=!1}ngOnInit(){this.address=this.activatedRoute.snapshot.data.address,this.address&&this.address.coordinates&&(this.latlng.lat=this.address.coordinates.latitude,this.latlng.lng=this.address.coordinates.longitude),console.log("address",this.address)}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete()}tabChanged(a){this.showAddresProductGrid=!1,1==a.index&&a.tab.textLabel==this.translateService.instant("product.products")&&(this.showAddresProductGrid=!0)}addProduct(){this.dialog.open(U.v,{width:"500px",data:{companyId:this.address.companyId,addressId:this.address.id}}).afterClosed().subscribe(a=>{this.productGridComponent&&this.productGridComponent.getProducts()})}static#t=this.\u0275fac=function(o){return new(o||d)(t.Y36(L.O),t.Y36(r.gz),t.Y36(G.uw),t.Y36(i.sK))};static#s=this.\u0275cmp=t.Xpm({type:d,selectors:[["app-address-card"]],viewQuery:function(o,n){if(1&o&&t.Gf(j,5),2&o){let e;t.iGM(e=t.CRH())&&(n.productGridComponent=e.first)}},decls:79,vars:46,consts:[[1,"gap-2"],["color","primary","mat-raised-button","",3,"routerLink"],["svgIcon","mat:arrow_back"],["color","accent","mat-raised-button","",3,"routerLink"],["svgIcon","mat:edit"],["color","warn","mat-raised-button",""],["svgIcon","mat:delete"],[1,"card","overflow-auto","mt-2"],[1,"p-gutter","p-1"],[3,"selectedTabChange"],[3,"label"],[1,"p-6"],[1,"row"],[1,"col-md-6"],[1,"col-md-3"],[1,"col-md-9"],[1,"description"],[3,"isReadOnly","latLng"],[1,"d-flex","justify-content-end"],["color","primary","mat-raised-button","",3,"click"],["svgIcon","mat:add"],["class","mt-4",4,"ngIf"],[1,"mt-4"],[3,"addressId"],["productGridComponent",""]],template:function(o,n){1&o&&(t.TgZ(0,"vex-page-layout")(1,"vex-page-layout-header",0)(2,"a",1),t._UZ(3,"mat-icon",2),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"a",3),t._UZ(8,"mat-icon",4),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.TgZ(12,"a",5),t._UZ(13,"mat-icon",6),t.TgZ(14,"span"),t._uU(15),t.ALo(16,"translate"),t.qZA()()(),t.TgZ(17,"vex-page-layout-content")(18,"div",7)(19,"div",8)(20,"mat-tab-group",9),t.NdJ("selectedTabChange",function($){return n.tabChanged($)}),t.TgZ(21,"mat-tab",10),t.ALo(22,"translate"),t.TgZ(23,"div",11)(24,"div",12)(25,"div",13)(26,"div",12)(27,"div",14)(28,"strong"),t._uU(29),t.ALo(30,"translate"),t.qZA()(),t.TgZ(31,"div",15)(32,"p",16),t._uU(33),t.qZA()()(),t.TgZ(34,"div",12)(35,"div",14)(36,"strong"),t._uU(37),t.ALo(38,"translate"),t.qZA()(),t.TgZ(39,"div",15)(40,"p",16),t._uU(41),t.qZA()()(),t.TgZ(42,"div",12)(43,"div",14)(44,"strong"),t._uU(45),t.ALo(46,"translate"),t.qZA()(),t.TgZ(47,"div",15)(48,"p",16),t._uU(49),t.qZA()()(),t.TgZ(50,"div",12)(51,"div",14)(52,"strong"),t._uU(53),t.ALo(54,"translate"),t.qZA()(),t.TgZ(55,"div",15)(56,"p",16),t._uU(57),t.qZA()()(),t.TgZ(58,"div",12)(59,"div",14)(60,"strong"),t._uU(61),t.ALo(62,"translate"),t.qZA()(),t.TgZ(63,"div",15)(64,"p",16),t._uU(65),t.qZA()()()(),t.TgZ(66,"div",13)(67,"div",12),t._UZ(68,"husbandry-map-component",17),t.qZA()()()()(),t.TgZ(69,"mat-tab",10),t.ALo(70,"translate"),t.TgZ(71,"div",11)(72,"div",18)(73,"button",19),t.NdJ("click",function(){return n.addProduct()}),t._UZ(74,"mat-icon",20),t.TgZ(75,"span"),t._uU(76),t.ALo(77,"translate"),t.qZA()()(),t.YNc(78,F,3,1,"div",21),t.qZA()()()()()()()),2&o&&(t.xp6(2),t.Q6J("routerLink",t.DdM(43,M)),t.xp6(3),t.Oqu(t.lcZ(6,21,"general.go_to_list")),t.xp6(2),t.Q6J("routerLink",t.VKq(44,Q,null==n.address?null:n.address.id)),t.xp6(3),t.Oqu(t.lcZ(11,23,"general.edit")),t.xp6(5),t.Oqu(t.lcZ(16,25,"general.delete")),t.xp6(6),t.s9C("label",t.lcZ(22,27,"address.address")),t.xp6(8),t.Oqu(t.lcZ(30,29,"address.name")),t.xp6(4),t.Oqu(null==n.address?null:n.address.name),t.xp6(4),t.Oqu(t.lcZ(38,31,"address.street_name")),t.xp6(4),t.Oqu(null==n.address?null:n.address.streetName),t.xp6(4),t.Oqu(t.lcZ(46,33,"address.zip_code")),t.xp6(4),t.Oqu(null==n.address?null:n.address.zipCode),t.xp6(4),t.Oqu(t.lcZ(54,35,"company.company")),t.xp6(4),t.Oqu(null==n.address?null:n.address.company),t.xp6(4),t.Oqu(t.lcZ(62,37,"address.disrict")),t.xp6(4),t.Oqu(null==n.address||null==n.address.district?null:n.address.district.name),t.xp6(3),t.Q6J("isReadOnly",!0)("latLng",n.latlng),t.xp6(1),t.s9C("label",t.lcZ(70,39,"product.products")),t.xp6(7),t.Oqu(t.lcZ(77,41,"product.add_product")),t.xp6(2),t.Q6J("ngIf",n.showAddresProductGrid))},dependencies:[c.O5,r.rH,I.Hw,p.zs,p.lW,m.uX,m.SP,P.w,S.U,b.d,z.x,J.c,i.X$],styles:[".mat-mdc-tab-body-content[_ngcontent-%COMP%]{height:100%;overflow:hidden!important}.row[_ngcontent-%COMP%]{margin-bottom:10px}"],data:{animation:[T.$,C.G,x.a,O.KF]}})}return d})();var R=s(15127),X=s(59591);let K=(()=>{class d extends R.b{constructor(a){super(a),this.httpService=a}save(a){return this.httpService.post("Addresses",a)}getAddressProducts(a){return this.httpService.get(`Products/address/${a}`)}static#t=this.\u0275fac=function(o){return new(o||d)(t.LFG(X.O))};static#s=this.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),g=(()=>{class d{constructor(a){this.addressService=a}resolve(a){return this.addressService.getById("Addresses",a.paramMap.get("id"))}static#t=this.\u0275fac=function(o){return new(o||d)(t.LFG(K))};static#s=this.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac})}return d})();const N=[{path:"",children:[{path:"address-card/:id",component:Y,resolve:{address:g},data:{heading:"menu.address_card"}}]}];var B=s(78173),D=s(2454);let H=(()=>{class d{static#t=this.\u0275fac=function(o){return new(o||d)};static#s=this.\u0275mod=t.oAB({type:d});static#d=this.\u0275inj=t.cJS({providers:[g],imports:[c.ez,i.aw,u.u5,u.UX,r.Bz.forChild(N),h.qX,v.G,Z.xD,A.j,f.K,B.Z,D.d]})}return d})()}}]);