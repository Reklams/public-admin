"use strict";(self.webpackChunkvex=self.webpackChunkvex||[]).push([[4270],{24270:($e,U,i)=>{i.r(U),i.d(U,{CompanyModule:()=>Be});var C=i(96814),l=i(56223),m=i(35420),p=i(89515),h=i(89364),R=i(62051),F=i(13680),H=i(47774),M=i(78173),D=i(59051),e=i(65879),E=i(15127),z=i(59591);let b=(()=>{class a extends E.b{constructor(t){super(t),this.httpService=t}save(t){return this.httpService.post("Companies",t)}update(t){return this.httpService.update("Companies",t)}saveCompanyAddress(t){return this.httpService.post("Addresses",t)}getCompanyAddress(t){return this.httpService.get(`Addresses/company/${t}`)}getAddressById(t){return this.httpService.get(`Addresses/${t}`)}getCompanies(t,n,o){return this.httpService.getWithPagination("Companies",t,n,o)}static#e=this.\u0275fac=function(n){return new(n||a)(e.LFG(z.O))};static#t=this.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),w=(()=>{class a{constructor(t){this.companyService=t}resolve(t){return this.companyService.getById("Companies",t.paramMap.get("id"))}static#e=this.\u0275fac=function(n){return new(n||a)(e.LFG(b))};static#t=this.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac})}return a})();var y=i(78645),_=i(59773),v=i(58184),Z=i(30617),u=i(32296),x=i(16072),A=i(79859),S=i(17727),O=i(42417),G=i(79362);function X(a,c){if(1&a){const t=e.EpF();e.TgZ(0,"do-dropdown-button")(1,"do-dropdown-item",14),e.NdJ("click",function(){const s=e.CHM(t).row,r=e.oxw();return e.KtG(r.card(s))}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"do-dropdown-item",14),e.NdJ("click",function(){const s=e.CHM(t).row,r=e.oxw();return e.KtG(r.edit(s))}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"do-dropdown-item",14),e.NdJ("click",function(){const s=e.CHM(t).row,r=e.oxw();return e.KtG(r.deleteAction(s))}),e._uU(8),e.ALo(9,"translate"),e.qZA()()}2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,3,"grid.card")," "),e.xp6(3),e.hij(" ",e.lcZ(6,5,"grid.edit")," "),e.xp6(3),e.hij(" ",e.lcZ(9,7,"grid.delete")," "))}function B(a,c){if(1&a&&(e.TgZ(0,"a",15),e._uU(1),e.qZA()),2&a){const t=c.row;e.MGl("routerLink","/company/company-card/",t.id,""),e.xp6(1),e.Oqu(t.name)}}function P(a,c){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const t=c.value;e.xp6(1),e.Oqu(t)}}function K(a,c){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const t=c.value;e.xp6(1),e.Oqu(t)}}function $(a,c){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const t=c.value;e.xp6(1),e.Oqu(t)}}const W=function(){return["/company/company-create"]},V=function(a,c,t){return{emptyMessage:a,totalMessage:c,exportMessage:t,selectedMessage:"selected"}};let ee=(()=>{class a{constructor(t,n,o){this.companyService=t,this.globals=n,this.router=o,this.destroySubject=new y.x,this.count=0,this.limit=10,this.offset=0,this.rows=null}ngOnInit(){this.globals.showLoading=!0,this.companyService.getCompanies().pipe((0,_.R)(this.destroySubject)).subscribe(t=>{console.log("companyList",t),this.rows=t.result,this.globals.showLoading=!1},t=>{console.log("err",t),this.globals.showLoading=!1})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete()}onPage(t){this.offset=t.offset}onPageSizeChanged(t){this.offset=0,this.limit=t.limit}exportExcel(){}card(t){this.router.navigateByUrl("/company/company-card/"+t.id)}edit(t){this.router.navigateByUrl("/company/company-edit/"+t.id)}deleteAction(t){}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(b),e.Y36(v.O),e.Y36(m.F0))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-company-list"]],decls:34,vars:54,consts:[["color","primary","mat-raised-button","",3,"routerLink"],["svgIcon","mat:add"],[1,"card","overflow-auto","-mt-16"],[1,"bg-app-bar","px-6","h-16","border-b","sticky","left-0","flex","items-center"],[1,"title","my-0","ltr:pr-4","rtl:pl-4","ltr:mr-4","rtl:ml-4","ltr:border-r","rtl:border-l","hidden","sm:block","flex-none"],[1,"p-1"],[1,"material","striped",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","externalPaging","scrollbarH","limit","count","offset","messages"],["table",""],["name","","prop","id",3,"width","resizeable","sortable","draggable","canAutoResize"],["ngx-datatable-cell-template",""],["prop","name",3,"flexGrow","name","sortable"],["prop","companyType",3,"flexGrow","name","sortable"],["prop","taxNumber",3,"flexGrow","name","sortable"],["prop","city",3,"flexGrow","name","sortable"],[3,"click"],[3,"routerLink"]],template:function(n,o){1&n&&(e.TgZ(0,"vex-page-layout")(1,"vex-page-layout-header")(2,"a",0),e._UZ(3,"mat-icon",1),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"vex-page-layout-content")(8,"div",2)(9,"div",3)(10,"h2",4)(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()()(),e.TgZ(14,"div",5)(15,"ngx-datatable",6,7),e.ALo(17,"translate"),e.ALo(18,"translate"),e.ALo(19,"translate"),e.TgZ(20,"ngx-datatable-column",8),e.YNc(21,X,10,9,"ng-template",9),e.qZA(),e.TgZ(22,"ngx-datatable-column",10),e.ALo(23,"translate"),e.YNc(24,B,2,2,"ng-template",9),e.qZA(),e.TgZ(25,"ngx-datatable-column",11),e.ALo(26,"translate"),e.YNc(27,P,2,1,"ng-template",9),e.qZA(),e.TgZ(28,"ngx-datatable-column",12),e.ALo(29,"translate"),e.YNc(30,K,2,1,"ng-template",9),e.qZA(),e.TgZ(31,"ngx-datatable-column",13),e.ALo(32,"translate"),e.YNc(33,$,2,1,"ng-template",9),e.qZA()()()()()()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(49,W)),e.xp6(3),e.Oqu(e.lcZ(6,31,"general.add_new")),e.xp6(7),e.Oqu(e.lcZ(13,33,"company.list")),e.xp6(3),e.Q6J("rows",o.rows)("columnMode","force")("headerHeight",40)("footerHeight",50)("rowHeight","auto")("externalPaging",!1)("scrollbarH",!1)("limit",o.limit)("count",o.count)("offset",o.offset)("messages",e.kEZ(50,V,e.lcZ(17,35,"grid.no_data_to_display"),e.lcZ(18,37,"grid.total_count"),"<i class=ion-android-list></i>"+e.lcZ(19,39,"grid.excel"))),e.xp6(5),e.Q6J("width",40)("resizeable",!1)("sortable",!1)("draggable",!1)("canAutoResize",!1),e.xp6(2),e.s9C("name",e.lcZ(23,41,"company.name")),e.Q6J("flexGrow",1)("sortable",!0),e.xp6(3),e.s9C("name",e.lcZ(26,43,"company.company_type")),e.Q6J("flexGrow",1)("sortable",!0),e.xp6(3),e.s9C("name",e.lcZ(29,45,"company.tax_number")),e.Q6J("flexGrow",1)("sortable",!0),e.xp6(3),e.s9C("name",e.lcZ(32,47,"city.name")),e.Q6J("flexGrow",1)("sortable",!0))},dependencies:[m.rH,Z.Hw,u.zs,x.w,A.U,S.d,h.nE,h.UC,h.vq,O.O,G.V,p.X$]})}return a})();var T=i(86199),L=i(24516),g=i(64170),I=i(47157),q=i(23896);const te=["baseSelector"];let N=(()=>{class a{constructor(t){this.sharedService=t,this.destroySubject=new y.x,this.dataSource=[],this.isLoading=!1,this.multiple=!1,this.disabled=!1,this.remove=new e.vpe,this.select=new e.vpe,this.load=new e.vpe,this.error=new e.vpe}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete()}loadData(){this.dataSource=[],this.isLoading=!0,this.disabled=!0,this.sharedService.getCompanyTypes().pipe((0,_.R)(this.destroySubject)).subscribe(t=>{t.forEach(n=>{const o={};o.id=n.id,o.name=n.name,this.dataSource.push(o)}),this.disabled=!1,this.isLoading=!1,this.baseSelector.Load(this.dataSource)},t=>{this.disabled=!1,this.isLoading=!1,this.error.emit(t)})}setSelectedById(t){this.baseSelector.setSelectedById(t)}setSelectedByIds(t){this.baseSelector.setSelectedByIds(t)}setSelected(t){this.baseSelector.setSelected(t)}clearSelected(){this.baseSelector.clearSelected()}getSelectedId(){return this.baseSelector.getSelectedId()}getSelectedIds(){return this.baseSelector.getSelectedIds()}getSelected(){return this.baseSelector.getSelected()}getObject(t){return this.baseSelector.getObject(t)}Select(t){this.select.emit(t)}Remove(t){this.remove.emit(t)}Load(t){this.load.emit(this.dataSource)}Create(t){this.baseSelector.Load(this.dataSource)}setDisabledState(t){this.disabled=!t}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(I.F))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-company-type-selector"]],viewQuery:function(n,o){if(1&n&&e.Gf(te,5),2&n){let s;e.iGM(s=e.CRH())&&(o.baseSelector=s.first)}},inputs:{multiple:"multiple",placeholder:"placeholder",disabled:"disabled"},outputs:{remove:"remove",select:"select",load:"load",error:"error"},decls:4,vars:8,consts:[[3,"multiple","isLoading","placeholder","labelName","select","remove","load"],["baseSelector",""]],template:function(n,o){1&n&&(e.TgZ(0,"base-selector",0,1),e.NdJ("select",function(r){return o.Select(r)})("remove",function(r){return o.Remove(r)})("load",function(r){return o.Load(r)}),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&n&&e.Q6J("multiple",o.multiple)("isLoading",o.isLoading)("placeholder",e.lcZ(2,4,"general.company_type_select"))("labelName",e.lcZ(3,6,"general.company_type_select"))},dependencies:[q.a,p.X$],encapsulation:2})}return a})();const oe=["baseSelector"];let J=(()=>{class a{constructor(t){this.sharedService=t,this.destroySubject=new y.x,this.dataSource=[],this.isLoading=!1,this.multiple=!1,this.disabled=!1,this.remove=new e.vpe,this.select=new e.vpe,this.load=new e.vpe,this.error=new e.vpe}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete()}loadData(){this.dataSource=[],this.isLoading=!0,this.disabled=!0,this.sharedService.getCities().pipe((0,_.R)(this.destroySubject)).subscribe(t=>{t.forEach(n=>{const o={};o.id=n.id,o.name=n.name,this.dataSource.push(o)}),this.disabled=!1,this.isLoading=!1,this.baseSelector.Load(this.dataSource)},t=>{this.disabled=!1,this.isLoading=!1,this.error.emit(t)})}setSelectedById(t){this.baseSelector.setSelectedById(t)}setSelectedByIds(t){this.baseSelector.setSelectedByIds(t)}setSelected(t){this.baseSelector.setSelected(t)}clearSelected(){this.baseSelector.clearSelected()}getSelectedId(){return this.baseSelector.getSelectedId()}getSelectedIds(){return this.baseSelector.getSelectedIds()}getSelected(){return this.baseSelector.getSelected()}getObject(t){return this.baseSelector.getObject(t)}Select(t){this.select.emit(t)}Remove(t){this.remove.emit(t)}Load(t){this.load.emit(this.dataSource)}Create(t){this.baseSelector.Load(this.dataSource)}setDisabledState(t){this.disabled=!t}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(I.F))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-city-selector"]],viewQuery:function(n,o){if(1&n&&e.Gf(oe,5),2&n){let s;e.iGM(s=e.CRH())&&(o.baseSelector=s.first)}},inputs:{multiple:"multiple",placeholder:"placeholder",disabled:"disabled"},outputs:{remove:"remove",select:"select",load:"load",error:"error"},decls:4,vars:8,consts:[[3,"multiple","isLoading","placeholder","labelName","select","remove","load"],["baseSelector",""]],template:function(n,o){1&n&&(e.TgZ(0,"base-selector",0,1),e.NdJ("select",function(r){return o.Select(r)})("remove",function(r){return o.Remove(r)})("load",function(r){return o.Load(r)}),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&n&&e.Q6J("multiple",o.multiple)("isLoading",o.isLoading)("placeholder",e.lcZ(2,4,"general.city_select"))("labelName",e.lcZ(3,6,"general.city_select"))},dependencies:[q.a,p.X$],encapsulation:2})}return a})();const ae=["companyTypeSelector"],ne=["citySelector"],se=function(){return["/company/company-list"]};let re=(()=>{class a{constructor(t,n,o,s,r){this.fb=t,this.globals=n,this.companyService=o,this.alertService=s,this.router=r,this.destroySubject=new y.x}ngOnInit(){this.prepareForm()}prepareForm(){this.companyForm=this.fb.group({name:["",l.kI.required],legalName:["",l.kI.required],taxNumber:[""],logoUrl:[""]})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete()}save(){const t={...this.companyForm.value,companyTypeId:this.companyTypeSelector.getSelectedId(),cityId:this.citySelector.getSelectedId()};this.globals.showLoading=!0,this.companyService.save(JSON.stringify(t)).pipe((0,_.R)(this.destroySubject)).subscribe(n=>{console.log("return data",n),this.globals.showLoading=!1,n&&(this.alertService.showSuccesfullInfo(),this.goToCard(n.id))},n=>{console.log("err",n),this.globals.showLoading=!1,this.alertService.showUnSuccesfullInfo(n.error.description)})}goToCard(t){this.router.navigateByUrl("/company/company-card/"+t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(l.qu),e.Y36(v.O),e.Y36(b),e.Y36(T.c),e.Y36(m.F0))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-company-create"]],viewQuery:function(n,o){if(1&n&&(e.Gf(ae,5),e.Gf(ne,5)),2&n){let s;e.iGM(s=e.CRH())&&(o.companyTypeSelector=s.first),e.iGM(s=e.CRH())&&(o.citySelector=s.first)}},decls:46,vars:25,consts:[["color","primary","mat-raised-button","",3,"routerLink"],["svgIcon","mat:arrow_back"],[1,"card","overflow-auto","-mt-16"],[1,"bg-app-bar","px-6","h-16","border-b","sticky","left-0","flex","items-center"],[1,"title","my-0","ltr:pr-4","rtl:pl-4","ltr:mr-4","rtl:ml-4","ltr:border-r","rtl:border-l","hidden","sm:block","flex-none"],[1,"p-gutter","p-3"],[1,"row",3,"formGroup"],[1,"col-md-6","flex","flex-col"],["appearance","outline",1,"flex-auto"],["matInput","","formControlName","name"],["appearance","outline"],["matInput","","formControlName","legalName"],["matInput","","formControlName","taxNumber"],["matInput","","formControlName","logoUrl"],["companyTypeSelector",""],["citySelector",""],[1,"col-md-12","flex","items-center","justify-end","gap-2"],["color","primary","mat-raised-button","","type","button",3,"disabled","click"]],template:function(n,o){1&n&&(e.TgZ(0,"vex-page-layout")(1,"vex-page-layout-header")(2,"a",0),e._UZ(3,"mat-icon",1),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"vex-page-layout-content")(8,"div",2)(9,"div",3)(10,"h2",4)(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()()(),e.TgZ(14,"div",5)(15,"div",6)(16,"div",7)(17,"mat-form-field",8)(18,"mat-label"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"input",9),e.qZA(),e.TgZ(22,"mat-form-field",10)(23,"mat-label"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e._UZ(26,"input",11),e.qZA(),e.TgZ(27,"mat-form-field",10)(28,"mat-label"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"input",12),e.qZA(),e.TgZ(32,"mat-form-field",10)(33,"mat-label"),e._uU(34),e.ALo(35,"translate"),e.qZA(),e._UZ(36,"input",13),e.qZA()(),e.TgZ(37,"div",7),e._UZ(38,"app-company-type-selector",null,14)(40,"app-city-selector",null,15),e.qZA(),e.TgZ(42,"div",16)(43,"button",17),e.NdJ("click",function(){return o.save()}),e._uU(44),e.ALo(45,"translate"),e.qZA()()()()()()()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(24,se)),e.xp6(3),e.Oqu(e.lcZ(6,10,"general.go_to_list")),e.xp6(7),e.Oqu(e.lcZ(13,12,"company.new_company_title")),e.xp6(3),e.Q6J("formGroup",o.companyForm),e.xp6(4),e.Oqu(e.lcZ(20,14,"company.name")),e.xp6(5),e.Oqu(e.lcZ(25,16,"company.legal_name")),e.xp6(5),e.Oqu(e.lcZ(30,18,"company.tax_number")),e.xp6(5),e.Oqu(e.lcZ(35,20,"company.logo_url")),e.xp6(9),e.Q6J("disabled",!o.companyForm.valid),e.xp6(1),e.Oqu(e.lcZ(45,22,"general.save")))},dependencies:[l.Fj,l.JJ,l.JL,l.sg,l.u,m.rH,Z.Hw,L.Nt,g.KE,g.hX,u.zs,u.lW,x.w,A.U,S.d,N,J,p.X$]})}return a})();var ie=i(95982),le=i(83951),ce=i(62008),de=i(86820);let k=(()=>{class a{static#e=this.noImageAvailablePath="/assets/img/no-image.png";static#t=this.companyTypeReklamAjans=1}return a})();var d=i(19347),Y=i(26385);function me(a,c){1&a&&(e.TgZ(0,"h2",18),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"user.new_user")))}let pe=(()=>{class a{constructor(t,n,o){this.defaults=t,this.dialogRef=n,this.fb=o}ngOnInit(){this.prepareForm()}prepareForm(){this.form=this.fb.group({firstName:["",l.kI.required],lastName:["",l.kI.required],email:["",l.kI.required]})}save(){}createCustomer(){const t=this.form.value;t.imageSrc||(t.imageSrc="assets/img/avatars/1.jpg"),this.dialogRef.close(t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(d.WI),e.Y36(d.so),e.Y36(l.QS))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-company-user-create"]],decls:34,vars:17,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title","",1,"flex","items-center"],["class","headline m-0 flex-auto",4,"ngIf"],["mat-dialog-close","","mat-icon-button","","type","button",1,"text-secondary"],["svgIcon","mat:close"],[1,"text-border"],[1,"flex","flex-col"],[1,"flex","flex-col","sm:flex-row"],["appearance","outline",1,"flex-auto"],["cdkFocusInitial","","formControlName","firstName","matInput",""],["matPrefix","","svgIcon","mat:person"],["appearance","outline",1,"sm:ml-6","flex-auto"],["formControlName","lastName","matInput",""],["formControlName","email","matInput",""],["matPrefix","","svgIcon","mat:email"],["align","end"],["mat-button","","mat-dialog-close","","type","button"],["color","primary","mat-flat-button","","type","submit"],[1,"headline","m-0","flex-auto"]],template:function(n,o){1&n&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.save()}),e.TgZ(1,"div",1),e.YNc(2,me,3,3,"h2",2),e.TgZ(3,"button",3),e._UZ(4,"mat-icon",4),e.qZA()(),e._UZ(5,"mat-divider",5),e.TgZ(6,"mat-dialog-content",6)(7,"div",7)(8,"mat-form-field",8)(9,"mat-label"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"input",9)(13,"mat-icon",10),e.qZA(),e.TgZ(14,"mat-form-field",11)(15,"mat-label"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"input",12)(19,"mat-icon",10),e.qZA()(),e.TgZ(20,"div",7)(21,"mat-form-field",8)(22,"mat-label"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"input",13)(26,"mat-icon",14),e.qZA()()(),e.TgZ(27,"mat-dialog-actions",15)(28,"button",16),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"button",17),e._uU(32),e.ALo(33,"translate"),e.qZA()()()),2&n&&(e.Q6J("formGroup",o.form),e.xp6(2),e.Q6J("ngIf",!o.form.get("firstName").value&&!o.form.get("lastName").value),e.xp6(8),e.Oqu(e.lcZ(11,7,"user.first_name")),e.xp6(6),e.Oqu(e.lcZ(17,9,"user.last_name")),e.xp6(7),e.Oqu(e.lcZ(24,11,"user.email")),e.xp6(6),e.Oqu(e.lcZ(30,13,"general.cancel")),e.xp6(3),e.Oqu(e.lcZ(33,15,"general.save")))},dependencies:[C.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,d.ZT,d.uh,d.xY,d.H8,Z.Hw,L.Nt,g.KE,g.hX,g.qo,Y.d,u.lW,u.RK,p.X$]})}return a})();var j=i(92596);const ue=["baseSelector"];let ge=(()=>{class a{constructor(t){this.sharedService=t,this.destroySubject=new y.x,this.dataSource=[],this.isLoading=!1,this.multiple=!1,this.disabled=!1,this.remove=new e.vpe,this.select=new e.vpe,this.load=new e.vpe,this.error=new e.vpe}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete()}loadData(){this.dataSource=[],this.isLoading=!0,this.disabled=!0,this.sharedService.getDistrictByCity(this.cityId).pipe((0,_.R)(this.destroySubject)).subscribe(t=>{t.forEach(n=>{const o={};o.id=n.id,o.name=n.name,this.dataSource.push(o)}),this.disabled=!1,this.isLoading=!1,this.baseSelector.Load(this.dataSource)},t=>{this.disabled=!1,this.isLoading=!1,this.error.emit(t)})}setSelectedById(t){this.baseSelector.setSelectedById(t)}setSelectedByIds(t){this.baseSelector.setSelectedByIds(t)}setSelected(t){this.baseSelector.setSelected(t)}clearSelected(){this.baseSelector.clearSelected()}getSelectedId(){return this.baseSelector.getSelectedId()}getSelectedIds(){return this.baseSelector.getSelectedIds()}getSelected(){return this.baseSelector.getSelected()}getObject(t){return this.baseSelector.getObject(t)}Select(t){this.select.emit(t)}Remove(t){this.remove.emit(t)}Load(t){this.load.emit(this.dataSource)}Create(t){this.baseSelector.Load(this.dataSource)}setDisabledState(t){this.disabled=!t}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(I.F))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-district-selector"]],viewQuery:function(n,o){if(1&n&&e.Gf(ue,5),2&n){let s;e.iGM(s=e.CRH())&&(o.baseSelector=s.first)}},inputs:{multiple:"multiple",cityId:"cityId",placeholder:"placeholder",disabled:"disabled"},outputs:{remove:"remove",select:"select",load:"load",error:"error"},decls:4,vars:8,consts:[[3,"multiple","isLoading","placeholder","labelName","select","remove","load"],["baseSelector",""]],template:function(n,o){1&n&&(e.TgZ(0,"base-selector",0,1),e.NdJ("select",function(r){return o.Select(r)})("remove",function(r){return o.Remove(r)})("load",function(r){return o.Load(r)}),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&n&&e.Q6J("multiple",o.multiple)("isLoading",o.isLoading)("placeholder",e.lcZ(2,4,"general.district_select"))("labelName",e.lcZ(3,6,"general.district_select"))},dependencies:[q.a,p.X$],encapsulation:2})}return a})();var he=i(73089);const ye=["husbandryMapComponent"],fe=["districtSelector"];let _e=(()=>{class a{constructor(t,n,o,s,r,f){this.data=t,this.dialogRef=n,this.fb=o,this.companyService=s,this.globals=r,this.alertService=f,this.destroySubject=new y.x,this.cityId=0,this.markerAdded=!1}ngOnInit(){this.prepareForm(),this.cityId=this.data.cityId}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete()}prepareForm(){this.form=this.fb.group({name:["",l.kI.required],streetName:["",l.kI.required],zipCode:[""],latitude:[],longitude:[]})}save(){const t={...this.form.value,companyId:this.data.companyId,districtId:this.districtSelector.getSelectedId()};console.log("address param",t),this.globals.showLoading=!0,this.companyService.saveCompanyAddress(JSON.stringify(t)).pipe((0,_.R)(this.destroySubject)).subscribe(n=>{console.log("return data",n),this.globals.showLoading=!1,n&&(this.alertService.showSuccesfullInfo(),this.dialogRef.close())},n=>{console.log("err",n),this.globals.showLoading=!1,this.alertService.showUnSuccesfullInfo(n.error.description)})}removeMarkup(){this.form.get("latitude").setValue(0),this.form.get("longitude").setValue(0),this.husbandryMapComponent.removeMarkup()}getLatLng(t){this.setHotelLatLng(t),this.markerAdded=!0}markerRemoved(){this.markerAdded=!1}setHotelLatLng(t){this.form.get("longitude").setValue(t.lng),this.form.get("latitude").setValue(t.lat)}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(d.WI),e.Y36(d.so),e.Y36(l.QS),e.Y36(b),e.Y36(v.O),e.Y36(T.c))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-company-address-create"]],viewQuery:function(n,o){if(1&n&&(e.Gf(ye,5),e.Gf(fe,5)),2&n){let s;e.iGM(s=e.CRH())&&(o.husbandryMapComponent=s.first),e.iGM(s=e.CRH())&&(o.districtSelector=s.first)}},decls:67,vars:40,consts:[[3,"formGroup"],["mat-dialog-title","",1,"flex","items-center"],[1,"headline","m-0","flex-auto"],["mat-dialog-close","","mat-icon-button","","type","button",1,"text-secondary"],["svgIcon","mat:close"],[1,"text-border"],[1,"row"],[1,"col-md-3"],["appearance","outline",1,"w-100"],["cdkFocusInitial","","formControlName","name","matInput",""],["matPrefix","","svgIcon","mat:person"],["formControlName","streetName","matInput",""],["matPrefix","","svgIcon","mat:streetview"],["cdkFocusInitial","","formControlName","zipCode","matInput",""],["matPrefix","","svgIcon","mat:location_city"],[3,"cityId"],["districtSelector",""],["cdkFocusInitial","","formControlName","latitude","matInput",""],["matPrefix","","svgIcon","mat:location_on"],["cdkFocusInitial","","formControlName","longitude","matInput",""],[1,"col-md-9"],[3,"markerLatLng","markerRemoved"],["husbandryMapComponent",""],[1,"d-flex","justify-content-between"],["color","warn","mat-flat-button","","type","button",3,"disabled","matTooltip","click"],["mat-button","","mat-dialog-close","","type","button"],["color","primary","mat-flat-button","","type","button",3,"disabled","click"]],template:function(n,o){1&n&&(e.TgZ(0,"form",0)(1,"div",1)(2,"h2",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",3),e._UZ(6,"mat-icon",4),e.qZA()(),e._UZ(7,"mat-divider",5),e.TgZ(8,"mat-dialog-content")(9,"div",6)(10,"div",7)(11,"mat-form-field",8)(12,"mat-label"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e._UZ(15,"input",9)(16,"mat-icon",10),e.qZA(),e.TgZ(17,"mat-form-field",8)(18,"mat-label"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"textarea",11)(22,"mat-icon",12),e.qZA(),e.TgZ(23,"mat-form-field",8)(24,"mat-label"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e._UZ(27,"input",13)(28,"mat-icon",14),e.qZA(),e._UZ(29,"app-district-selector",15,16),e.TgZ(31,"mat-form-field",8)(32,"mat-label"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e._UZ(35,"input",17)(36,"mat-icon",18),e.TgZ(37,"mat-hint"),e._uU(38),e.ALo(39,"translate"),e.qZA()(),e.TgZ(40,"mat-form-field",8)(41,"mat-label"),e._uU(42),e.ALo(43,"translate"),e.qZA(),e._UZ(44,"input",19)(45,"mat-icon",18),e.TgZ(46,"mat-hint"),e._uU(47),e.ALo(48,"translate"),e.qZA()()(),e.TgZ(49,"div",20)(50,"husbandry-map-component",21,22),e.NdJ("markerLatLng",function(r){return o.getLatLng(r)})("markerRemoved",function(){return o.markerRemoved()}),e.qZA()()()(),e.TgZ(52,"mat-dialog-actions",23)(53,"div")(54,"button",24),e.NdJ("click",function(){return o.removeMarkup()}),e.ALo(55,"translate"),e._UZ(56,"mat-icon",4),e.TgZ(57,"span"),e._uU(58),e.ALo(59,"translate"),e.qZA()()(),e.TgZ(60,"div")(61,"button",25),e._uU(62),e.ALo(63,"translate"),e.qZA(),e.TgZ(64,"button",26),e.NdJ("click",function(){return o.save()}),e._uU(65),e.ALo(66,"translate"),e.qZA()()()()),2&n&&(e.Q6J("formGroup",o.form),e.xp6(3),e.Oqu(e.lcZ(4,16,"company.new_address")),e.xp6(10),e.Oqu(e.lcZ(14,18,"address.name")),e.xp6(6),e.Oqu(e.lcZ(20,20,"address.street_name")),e.xp6(6),e.Oqu(e.lcZ(26,22,"address.zip_code")),e.xp6(4),e.Q6J("cityId",o.cityId),e.xp6(4),e.Oqu(e.lcZ(34,24,"address.latitude")),e.xp6(5),e.Oqu(e.lcZ(39,26,"address.location_hint")),e.xp6(4),e.Oqu(e.lcZ(43,28,"address.longitude")),e.xp6(5),e.Oqu(e.lcZ(48,30,"address.location_hint")),e.xp6(7),e.s9C("matTooltip",e.lcZ(55,32,"general.remove_marker")),e.Q6J("disabled",!o.markerAdded),e.xp6(4),e.Oqu(e.lcZ(59,34,"general.clear")),e.xp6(4),e.Oqu(e.lcZ(63,36,"general.cancel")),e.xp6(2),e.Q6J("disabled",o.form.invalid),e.xp6(1),e.Oqu(e.lcZ(66,38,"general.save")))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,d.ZT,d.uh,d.xY,d.H8,Z.Hw,L.Nt,g.KE,g.hX,g.bx,g.qo,Y.d,u.lW,u.RK,j.gM,ge,he.x,p.X$]})}return a})();var Q=i(74104),be=i(57180),Ze=i(52142),ve=i(43322),Ce=i(76651);const xe=["table"];function Ae(a,c){if(1&a&&e._UZ(0,"app-product-grid",12),2&a){const t=c.row;e.Q6J("initialLoad",!1)("externalDataSource",t.datasource)}}function Se(a,c){if(1&a){const t=e.EpF();e.TgZ(0,"mat-icon",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),s=o.row,r=o.expanded,f=e.oxw();return e.KtG(f.toggleExpandRow(s,r))}),e.qZA()}}function Te(a,c){if(1&a){const t=e.EpF();e.TgZ(0,"mat-icon",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),s=o.row,r=o.expanded,f=e.oxw();return e.KtG(f.toggleExpandRow(s,r))}),e.qZA()}}function Le(a,c){if(1&a&&(e.YNc(0,Se,1,0,"mat-icon",13),e.YNc(1,Te,1,0,"mat-icon",14)),2&a){const t=c.expanded;e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngIf",!t)}}function we(a,c){if(1&a){const t=e.EpF();e.TgZ(0,"do-dropdown-button")(1,"do-dropdown-item",17),e.NdJ("click",function(){const s=e.CHM(t).row,r=e.oxw();return e.KtG(r.card(s))}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"do-dropdown-item",17),e.NdJ("click",function(){const s=e.CHM(t).row,r=e.oxw();return e.KtG(r.addProduct(s))}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"do-dropdown-item"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"do-dropdown-item"),e._uU(11),e.ALo(12,"translate"),e.qZA()()}2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,4,"grid.card")," "),e.xp6(3),e.hij(" ",e.lcZ(6,6,"address.add_product")," "),e.xp6(3),e.hij(" ",e.lcZ(9,8,"grid.edit")," "),e.xp6(3),e.hij(" ",e.lcZ(12,10,"grid.delete")," "))}function Ie(a,c){if(1&a&&(e.TgZ(0,"a",18),e._uU(1),e.qZA()),2&a){const t=c.row;e.MGl("routerLink","/address/address-card/",t.id,""),e.xp6(1),e.Oqu(t.name)}}function qe(a,c){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const t=c.value;e.xp6(1),e.Oqu(t)}}function Ue(a,c){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const t=c.value;e.xp6(1),e.Oqu(t)}}function Oe(a,c){if(1&a){const t=e.EpF();e.TgZ(0,"mat-icon",19),e.NdJ("click",function(){const s=e.CHM(t).row,r=e.oxw();return e.KtG(r.openMap(s))}),e.ALo(1,"translate"),e.qZA()}2&a&&e.s9C("matTooltip",e.lcZ(1,1,"address.see_location"))}const Ge=function(a,c,t){return{emptyMessage:a,totalMessage:c,exportMessage:t,selectedMessage:"selected"}};let Ne=(()=>{class a{constructor(t,n,o,s,r){this.companyService=t,this.productService=n,this.globals=o,this.dialog=s,this.router=r,this.destroySubject=new y.x,this.count=0,this.limit=10,this.offset=0,this.rows=null}ngOnInit(){this.getCompanyAddress()}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete()}getCompanyAddress(){this.globals.showLoading=!0,this.companyService.getCompanyAddress(this.companyId).pipe((0,_.R)(this.destroySubject)).subscribe(t=>{console.log("companyAddress",t),this.rows=t,this.globals.showLoading=!1},t=>{console.log("err",t),this.globals.showLoading=!1})}openMap(t){this.dialog.open(Ze.f,{width:"80vw",data:{companyAddress:t.coordinates}})}addProduct(t){this.dialog.open(be.v,{width:"500px",data:{companyId:this.companyId,addressId:t.id}})}toggleExpandRow(t,n){n?this.table.rowDetail.toggleExpandRow(t):(this.globals.showLoading=!0,this.productService.getProductsByAddress(t.id).pipe((0,_.R)(this.destroySubject)).subscribe(o=>{console.log("addressProducts",o),this.table.rowDetail.toggleExpandRow(t),t.datasource=[...o],this.globals.showLoading=!1},o=>{console.log("err",o),this.globals.showLoading=!1}))}card(t){this.router.navigateByUrl("/address/address-card/"+t.id)}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(b),e.Y36(ve.M),e.Y36(v.O),e.Y36(d.uw),e.Y36(m.F0))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-company-address-grid"]],viewQuery:function(n,o){if(1&n&&e.Gf(xe,5),2&n){let s;e.iGM(s=e.CRH())&&(o.table=s.first)}},inputs:{companyId:"companyId"},decls:25,vars:49,consts:[[1,"p-1"],[1,"material","border",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","externalPaging","scrollbarH","limit","count","offset","messages"],["table",""],["myDetailRow",""],["ngx-datatable-row-detail-template",""],[3,"width","resizeable","sortable","draggable","canAutoResize"],["ngx-datatable-cell-template",""],["name","","prop","id",3,"width","resizeable","sortable","draggable","canAutoResize"],["prop","name",3,"flexGrow","name","sortable"],["prop","streetName",3,"flexGrow","name","sortable"],["prop","zipCode",3,"flexGrow","name","sortable"],["name","",3,"flexGrow","minWidth","sortable"],[3,"initialLoad","externalDataSource"],["style","cursor: pointer","svgIcon","mat:expand_less",3,"click",4,"ngIf"],["style","cursor: pointer","mat-icon-button","","svgIcon","mat:expand_more",3,"click",4,"ngIf"],["svgIcon","mat:expand_less",2,"cursor","pointer",3,"click"],["mat-icon-button","","svgIcon","mat:expand_more",2,"cursor","pointer",3,"click"],[3,"click"],[3,"routerLink"],["svgIcon","mat:location_on",2,"cursor","pointer",3,"matTooltip","click"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"ngx-datatable",1,2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.ALo(5,"translate"),e.TgZ(6,"ngx-datatable-row-detail",null,3),e.YNc(8,Ae,1,2,"ng-template",4),e.qZA(),e.TgZ(9,"ngx-datatable-column",5),e.YNc(10,Le,2,2,"ng-template",6),e.qZA(),e.TgZ(11,"ngx-datatable-column",7),e.YNc(12,we,13,12,"ng-template",6),e.qZA(),e._uU(13,"\xcf "),e.TgZ(14,"ngx-datatable-column",8),e.ALo(15,"translate"),e.YNc(16,Ie,2,2,"ng-template",6),e.qZA(),e.TgZ(17,"ngx-datatable-column",9),e.ALo(18,"translate"),e.YNc(19,qe,2,1,"ng-template",6),e.qZA(),e.TgZ(20,"ngx-datatable-column",10),e.ALo(21,"translate"),e.YNc(22,Ue,2,1,"ng-template",6),e.qZA(),e.TgZ(23,"ngx-datatable-column",11),e.YNc(24,Oe,2,3,"ng-template",6),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("rows",o.rows)("columnMode","force")("headerHeight",40)("footerHeight",50)("rowHeight","auto")("externalPaging",!1)("scrollbarH",!1)("limit",o.limit)("count",o.count)("offset",o.offset)("messages",e.kEZ(45,Ge,e.lcZ(3,33,"grid.no_data_to_display"),e.lcZ(4,35,"grid.total_count"),"<i class=ion-android-list></i>"+e.lcZ(5,37,"grid.excel"))),e.xp6(8),e.Q6J("width",40)("resizeable",!1)("sortable",!1)("draggable",!1)("canAutoResize",!1),e.xp6(2),e.Q6J("width",40)("resizeable",!1)("sortable",!1)("draggable",!1)("canAutoResize",!1),e.xp6(3),e.s9C("name",e.lcZ(15,39,"address.name")),e.Q6J("flexGrow",1)("sortable",!0),e.xp6(3),e.s9C("name",e.lcZ(18,41,"address.street_name")),e.Q6J("flexGrow",1)("sortable",!0),e.xp6(3),e.s9C("name",e.lcZ(21,43,"address.zip_code")),e.Q6J("flexGrow",1)("sortable",!0),e.xp6(3),e.Q6J("flexGrow",.25)("minWidth",50)("sortable",!1))},dependencies:[C.O5,m.rH,Z.Hw,j.gM,h.nE,h.$7,h.AR,h.UC,h.vq,O.O,G.V,Ce.c,p.X$]})}return a})();const Je=["companyAddressGridComponent"];function ke(a,c){if(1&a&&e._UZ(0,"img",23),2&a){const t=e.oxw();e.s9C("src",t.company.logoUrl,e.LSH),e.Q6J("@scaleIn",void 0)}}function Ye(a,c){if(1&a&&(e.TgZ(0,"div",28),e._UZ(1,"app-company-address-grid",29,30),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("companyId",t.company.id)}}function je(a,c){if(1&a){const t=e.EpF();e.TgZ(0,"mat-tab",15),e.ALo(1,"translate"),e.TgZ(2,"div",16)(3,"div",24)(4,"button",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createAddress())}),e._UZ(5,"mat-icon",26),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.YNc(9,Ye,3,1,"div",27),e.qZA()()}if(2&a){const t=e.oxw();e.s9C("label",e.lcZ(1,3,"company.addresses")),e.xp6(7),e.Oqu(e.lcZ(8,5,"company.add_address")),e.xp6(2),e.Q6J("ngIf",t.showCompanyAddresGrid)}}const Qe=function(){return["/company/company-list"]},Re=function(a){return["/company/company-edit",a]},He=["companyTypeSelector"],Me=["citySelector"],De=function(){return["/company/company-list"]},Ee=function(a){return["/company/company-card",a]},ze=[{path:"",children:[{path:"company-list",component:ee,data:{heading:"menu.company-list"}},{path:"company-create",component:re,data:{heading:"menu.company_create"}},{path:"company-card/:id",component:(()=>{class a{constructor(t,n,o,s,r,f,Pe,Ke){this.fb=t,this.globals=n,this.companyService=o,this.alertService=s,this.router=r,this.activatedRoute=f,this.dialog=Pe,this.translateService=Ke,this.destroySubject=new y.x,this.showAddress=!1,this.showCompanyAddresGrid=!1}ngOnInit(){this.company=this.activatedRoute.snapshot.data.company,this.company&&(this.company.logoUrl||(this.company.logoUrl=k.noImageAvailablePath),this.company.companyTypeId==k.companyTypeReklamAjans&&(this.showAddress=!0)),console.log("company",this.company)}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete()}createUser(){this.dialog.open(pe).afterClosed().subscribe(t=>{t&&console.log("companyUser",t)})}createAddress(){this.dialog.open(_e,{width:"90vw",data:{cityId:this.company.cityId,companyId:this.company.id}}).afterClosed().subscribe(t=>{this.companyAddressGridComponent&&this.companyAddressGridComponent.getCompanyAddress()})}tabChanged(t){this.showCompanyAddresGrid=!1,t.tab.textLabel==this.translateService.instant("company.addresses")&&(this.showCompanyAddresGrid=!0)}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(l.qu),e.Y36(v.O),e.Y36(b),e.Y36(T.c),e.Y36(m.F0),e.Y36(m.gz),e.Y36(d.uw),e.Y36(p.sK))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-company-card"]],viewQuery:function(n,o){if(1&n&&e.Gf(Je,5),2&n){let s;e.iGM(s=e.CRH())&&(o.companyAddressGridComponent=s.first)}},decls:82,vars:45,consts:[[1,"gap-2"],["color","primary","mat-raised-button","",3,"routerLink"],["svgIcon","mat:arrow_back"],["color","accent","mat-raised-button","",3,"routerLink"],["svgIcon","mat:edit"],["color","warn","mat-raised-button",""],["svgIcon","mat:delete"],[1,"z-10","relative","-mt-16","px-gutter","flex","items-center"],["class","avatar h-24 w-24 flex-none align-start hidden sm:block border-2 border-white",3,"src",4,"ngIf"],[1,"max-w-full","flex-auto","sm:ltr:ml-6","sm:rtl:mr-6",2,"margin-top","10px"],[1,"h-16","flex","items-end"],[1,"headline","text-contrast"],[1,"card","overflow-auto","mt-2"],[1,"p-gutter","p-1"],[3,"selectedTabChange"],[3,"label"],[1,"p-6"],[1,"row"],[1,"col-md-6"],[1,"col-md-3"],[1,"col-md-9"],[1,"description"],[3,"label",4,"ngIf"],[1,"avatar","h-24","w-24","flex-none","align-start","hidden","sm:block","border-2","border-white",3,"src"],[1,"d-flex","justify-content-end"],["color","primary","mat-raised-button","",3,"click"],["svgIcon","mat:add"],["class","mt-4",4,"ngIf"],[1,"mt-4"],[3,"companyId"],["companyAddressGridComponent",""]],template:function(n,o){1&n&&(e.TgZ(0,"vex-page-layout")(1,"vex-page-layout-header",0)(2,"a",1),e._UZ(3,"mat-icon",2),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"a",3),e._UZ(8,"mat-icon",4),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",5),e._UZ(13,"mat-icon",6),e.TgZ(14,"span"),e._uU(15),e.ALo(16,"translate"),e.qZA()()(),e.TgZ(17,"vex-page-layout-content")(18,"div",7),e.YNc(19,ke,1,2,"img",8),e.TgZ(20,"div",9)(21,"div",10)(22,"h1",11),e._uU(23),e.qZA()()()(),e.TgZ(24,"div",12)(25,"div",13)(26,"mat-tab-group",14),e.NdJ("selectedTabChange",function(r){return o.tabChanged(r)}),e.TgZ(27,"mat-tab",15),e.ALo(28,"translate"),e.TgZ(29,"div",16)(30,"div",17)(31,"div",18)(32,"div",17)(33,"div",19)(34,"strong"),e._uU(35),e.ALo(36,"translate"),e.qZA()(),e.TgZ(37,"div",20)(38,"p",21),e._uU(39),e.qZA()()(),e.TgZ(40,"div",17)(41,"div",19)(42,"strong"),e._uU(43),e.ALo(44,"translate"),e.qZA()(),e.TgZ(45,"div",20)(46,"p",21),e._uU(47),e.qZA()()(),e.TgZ(48,"div",17)(49,"div",19)(50,"strong"),e._uU(51),e.ALo(52,"translate"),e.qZA()(),e.TgZ(53,"div",20)(54,"p",21),e._uU(55),e.qZA()()(),e.TgZ(56,"div",17)(57,"div",19)(58,"strong"),e._uU(59),e.ALo(60,"translate"),e.qZA()(),e.TgZ(61,"div",20)(62,"p",21),e._uU(63),e.qZA()()(),e.TgZ(64,"div",17)(65,"div",19)(66,"strong"),e._uU(67),e.ALo(68,"translate"),e.qZA()(),e.TgZ(69,"div",20)(70,"p",21),e._uU(71),e.qZA()()()(),e.TgZ(72,"div",18)(73,"div",17)(74,"div",19)(75,"strong"),e._uU(76),e.ALo(77,"translate"),e.qZA()(),e.TgZ(78,"div",20)(79,"p",21),e._uU(80),e.qZA()()()()()()(),e.YNc(81,je,10,7,"mat-tab",22),e.qZA()()()()()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(42,Qe)),e.xp6(3),e.Oqu(e.lcZ(6,22,"general.go_to_list")),e.xp6(2),e.Q6J("routerLink",e.VKq(43,Re,o.company.id)),e.xp6(3),e.Oqu(e.lcZ(11,24,"general.edit")),e.xp6(5),e.Oqu(e.lcZ(16,26,"general.delete")),e.xp6(4),e.Q6J("ngIf",o.company.logoUrl),e.xp6(3),e.Q6J("@fadeInRight",void 0),e.xp6(1),e.Oqu(o.company.name),e.xp6(4),e.s9C("label",e.lcZ(28,28,"company.company")),e.xp6(8),e.Oqu(e.lcZ(36,30,"company.name")),e.xp6(4),e.Oqu(o.company.name),e.xp6(4),e.Oqu(e.lcZ(44,32,"company.legal_name")),e.xp6(4),e.Oqu(o.company.legalName),e.xp6(4),e.Oqu(e.lcZ(52,34,"company.tax_number")),e.xp6(4),e.Oqu(o.company.taxNumber),e.xp6(4),e.Oqu(e.lcZ(60,36,"city.name")),e.xp6(4),e.Oqu(o.company.city),e.xp6(4),e.Oqu(e.lcZ(68,38,"company.company_type")),e.xp6(4),e.Oqu(o.company.companyType),e.xp6(5),e.Oqu(e.lcZ(77,40,"company.logo_url")),e.xp6(4),e.Oqu(o.company.logoUrl),e.xp6(1),e.Q6J("ngIf",o.showAddress))},dependencies:[C.O5,m.rH,Z.Hw,u.zs,u.lW,Q.uX,Q.SP,x.w,A.U,S.d,Ne,p.X$],styles:[".mat-mdc-tab-body-content[_ngcontent-%COMP%]{height:100%;overflow:hidden!important}.row[_ngcontent-%COMP%]{margin-bottom:10px}"],data:{animation:[le.$,ie.G,ce.a,de.KF]}})}return a})(),resolve:{company:w},data:{heading:"menu.company_card"}},{path:"company-edit/:id",component:(()=>{class a{constructor(t,n,o,s,r,f){this.fb=t,this.globals=n,this.companyService=o,this.alertService=s,this.router=r,this.activatedRoute=f,this.destroySubject=new y.x}ngOnInit(){this.company=this.activatedRoute.snapshot.data.company,this.prepareForm()}prepareForm(){this.companyForm=this.fb.group({name:["",l.kI.required],legalName:["",l.kI.required],taxNumber:[""],logoUrl:[""]}),this.companyForm.patchValue(this.company)}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete()}companyTypeLoaded(){this.company.companyTypeId&&this.companyTypeSelector.setSelectedById(this.company.companyTypeId)}cityLoaded(){this.company.cityId&&this.citySelector.setSelectedById(this.company.cityId)}save(){}goToCard(t){this.router.navigateByUrl("/patient-owner/card/"+t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(l.qu),e.Y36(v.O),e.Y36(b),e.Y36(T.c),e.Y36(m.F0),e.Y36(m.gz))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-company-edit"]],viewQuery:function(n,o){if(1&n&&(e.Gf(He,5),e.Gf(Me,5)),2&n){let s;e.iGM(s=e.CRH())&&(o.companyTypeSelector=s.first),e.iGM(s=e.CRH())&&(o.citySelector=s.first)}},decls:56,vars:34,consts:[[1,"gap-2"],["color","primary","mat-raised-button","",3,"routerLink"],["svgIcon","mat:arrow_back"],["color","accent","mat-raised-button","",3,"routerLink"],["svgIcon","mat:info"],["color","warn","mat-raised-button",""],["svgIcon","mat:delete"],[1,"card","overflow-auto","-mt-16"],[1,"bg-app-bar","px-6","h-16","border-b","sticky","left-0","flex","items-center"],[1,"title","my-0","ltr:pr-4","rtl:pl-4","ltr:mr-4","rtl:ml-4","ltr:border-r","rtl:border-l","hidden","sm:block","flex-none"],[1,"p-gutter","p-3"],[1,"row",3,"formGroup"],[1,"col-md-6","flex","flex-col"],["appearance","outline",1,"flex-auto"],["matInput","","formControlName","name"],["appearance","outline"],["matInput","","formControlName","legalName"],["matInput","","formControlName","taxNumber"],["matInput","","formControlName","logoUrl"],[3,"load"],["companyTypeSelector",""],["citySelector",""],[1,"col-md-12","flex","items-center","justify-end","gap-2"],["color","primary","mat-raised-button","","type","button",3,"disabled","click"]],template:function(n,o){1&n&&(e.TgZ(0,"vex-page-layout")(1,"vex-page-layout-header",0)(2,"a",1),e._UZ(3,"mat-icon",2),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"a",3),e._UZ(8,"mat-icon",4),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",5),e._UZ(13,"mat-icon",6),e.TgZ(14,"span"),e._uU(15),e.ALo(16,"translate"),e.qZA()()(),e.TgZ(17,"vex-page-layout-content")(18,"div",7)(19,"div",8)(20,"h2",9)(21,"span"),e._uU(22),e.ALo(23,"translate"),e.qZA()()(),e.TgZ(24,"div",10)(25,"div",11)(26,"div",12)(27,"mat-form-field",13)(28,"mat-label"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"input",14),e.qZA(),e.TgZ(32,"mat-form-field",15)(33,"mat-label"),e._uU(34),e.ALo(35,"translate"),e.qZA(),e._UZ(36,"input",16),e.qZA(),e.TgZ(37,"mat-form-field",15)(38,"mat-label"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e._UZ(41,"input",17),e.qZA(),e.TgZ(42,"mat-form-field",15)(43,"mat-label"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"input",18),e.qZA()(),e.TgZ(47,"div",12)(48,"app-company-type-selector",19,20),e.NdJ("load",function(){return o.companyTypeLoaded()}),e.qZA(),e.TgZ(50,"app-city-selector",19,21),e.NdJ("load",function(){return o.cityLoaded()}),e.qZA()(),e.TgZ(52,"div",22)(53,"button",23),e.NdJ("click",function(){return o.save()}),e._uU(54),e.ALo(55,"translate"),e.qZA()()()()()()()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(31,De)),e.xp6(3),e.Oqu(e.lcZ(6,13,"general.go_to_list")),e.xp6(2),e.Q6J("routerLink",e.VKq(32,Ee,o.company.id)),e.xp6(3),e.Oqu(e.lcZ(11,15,"general.card")),e.xp6(5),e.Oqu(e.lcZ(16,17,"general.delete")),e.xp6(7),e.Oqu(e.lcZ(23,19,"company.update_company")),e.xp6(3),e.Q6J("formGroup",o.companyForm),e.xp6(4),e.Oqu(e.lcZ(30,21,"company.name")),e.xp6(5),e.Oqu(e.lcZ(35,23,"company.legal_name")),e.xp6(5),e.Oqu(e.lcZ(40,25,"company.tax_number")),e.xp6(5),e.Oqu(e.lcZ(45,27,"company.logo_url")),e.xp6(9),e.Q6J("disabled",!o.companyForm.valid),e.xp6(1),e.Oqu(e.lcZ(55,29,"general.save")))},dependencies:[l.Fj,l.JJ,l.JL,l.sg,l.u,m.rH,Z.Hw,L.Nt,g.KE,g.hX,u.zs,u.lW,x.w,A.U,S.d,N,J,p.X$]})}return a})(),resolve:{company:w},data:{heading:"menu.company_edit"}}]}];var Xe=i(2454);let Be=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.oAB({type:a});static#o=this.\u0275inj=e.cJS({providers:[w],imports:[C.ez,p.aw,l.u5,l.UX,m.Bz.forChild(ze),H.qX,R.G,h.xD,D.j,F.K,M.Z,Xe.d]})}return a})()}}]);